<div class="min-h-screen bg-gray-900 text-gray-200 flex items-start justify-center pt-10 pb-2"> 
  <div class="max-w-lg mx-auto bg-gray-900 text-gray-200 shadow-lg rounded-lg p-8 border border-gray-700">
    <h2 class="text-3xl font-bold mb-6 text-gray-100 text-center">
      Create a New Forum Post
    </h2>
    <form [formGroup]="forumPostForm" (ngSubmit)="createPost()">
      <div class="mb-5">
        <label for="topic" class="block text-sm font-medium text-gray-400 mb-2">
          Topic
        </label>
        <input
          id="topic"
          type="text"
          formControlName="topic"
          class="block w-full rounded-lg bg-gray-800 border border-gray-700 text-gray-200 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3"
          placeholder="Enter the topic"
        />
      </div>
      @if (this.forumPostForm.get('topic')?.hasError('required') && this.forumPostForm.get('topic')?.touched) {
        <app-error-message [errorMessage]="'Topic is required'"></app-error-message>
      }
      <div class="mb-5">
        <label for="problem" class="block text-sm font-medium text-gray-400 mb-2">
          Problem Description
        </label>
        <textarea
          id="problem"
          formControlName="description"
          class="block w-full rounded-lg bg-gray-800 border border-gray-700 text-gray-200 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3"
          rows="4"
          placeholder="Describe the problem"
        ></textarea>
      </div>
      @if (this.forumPostForm.get('description')?.hasError('required') && this.forumPostForm.get('description')?.touched) {
        <app-error-message [errorMessage]="'Description is required'"></app-error-message>
      }
      <div class="mb-5">
        <label for="additionalInfo" class="block text-sm font-medium text-gray-400 mb-2">
          Additional Information
        </label>
        <textarea
          id="additionalInfo"
          formControlName="additionalInfo"
          class="block w-full rounded-lg bg-gray-800 border border-gray-700 text-gray-200 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-3"
          rows="3"
          placeholder="Provide additional details (optional)"
        ></textarea>
      </div>
      @if(this.apiErrorMessage) {
        <app-error-message [errorMessage]="this.apiErrorMessage"></app-error-message>
      }
      <button
        [disabled]="this.forumPostForm.invalid"
        class="w-full py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-gray-100 font-semibold text-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 transition disabled:opacity-50 disabled:cursor-not-allowed">Post Discussion
      </button>
    </form>
  </div>
</div>
